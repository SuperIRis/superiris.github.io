"use strict";function shuffle(e){for(var t,n,o=e.length;0<o;)n=Math.floor(Math.random()*o),t=e[--o],e[o]=e[n],e[n]=t;return e}function randomBoolean(){return Math.random()<.5}function randomFromArray(e){return e[Math.floor(Math.random()*e.length)]}function getProjectByStringID(e,t){for(var n=0,o=t.length;n<o;n++)if(t[n].stringID===e)return t[n].lastProject=0<n?t[n-1]:t[t.length-1],n===t.length-1?t[n].nextProject=t[0]:t[n].nextProject=t[n+1],t[n];return!1}function trackView(e){"undefined"!=typeof ga&&ga("send","pageview",e)}function trackEvent(e,t,n){"undefined"!=typeof ga&&ga("send","event",e,t,n)}function toggleClass(e,t){e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)}function removeClassFromAll(e,t){e.forEach(e=>{e.classList.remove(t)})}function preloadImage(o){return new Promise((e,t)=>{var n=document.createElement("img");n.onload=e,n.onerror=t,n.src=o})}function onAllImagesLoaded(e){return Promise.all(Array.from(e.querySelectorAll("img")??document.images).filter(e=>!e.complete).map(t=>new Promise(e=>{t.onload=t.onerror=e})))}function bulkNodeAction(t,e){e.forEach(e=>{e[t]()})}function onOpenPopup(e){e.preventDefault();var t=$(e.currentTarget).attr("href"),e=e.currentTarget.getAttribute("data-popup"),n="twitter"===e?550:500,o="twitter"===e?400:320,r=window.innerHeight/2-o/2,a=window.innerWidth/2-n/2;window.open(t,e,"width="+n+", height="+o+", left="+a+", top="+r)}function isDesktop(){return 1030<=window.innerWidth}function throttle(e,t=1e3){let n;return()=>{clearTimeout(n),n=setTimeout(()=>{e()},t)}}function appearOutphased(t,e,n=1e3){let o=0;setTimeout(()=>{for(let e=0;e<t.length;e++)setTimeout(()=>{t[o].classList.remove("unshown"),o++},(e+1)*n)},e)}function getProjects(e){return fetch("es"===e?"../../data/projects-es.json":"../../data/projects.json").then(e=>e.json()).then(e=>e.projects)}export{shuffle,randomBoolean,randomFromArray,getProjectByStringID,trackView,trackEvent,toggleClass,removeClassFromAll,preloadImage,onAllImagesLoaded,bulkNodeAction,onOpenPopup,isDesktop,throttle,appearOutphased,getProjects};